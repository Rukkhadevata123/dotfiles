-- Conky Left Panel Configuration for Hyprland/Wayland with Weather
conky.config = {
    -- Âü∫Êú¨ËÆæÁΩÆ
    background = true,
    use_xft = true,
    font = 'JetBrainsMono Nerd Font:size=11',
    xftalpha = 0.9,
    update_interval = 1.0,
    total_run_times = 0,
    
    -- Wayland ËæìÂá∫ËÆæÁΩÆ
    out_to_x = false,
    out_to_wayland = true,
    out_to_console = false,
    out_to_stderr = false,
    
    -- Á™óÂè£ËÆæÁΩÆ
    own_window = true,
    own_window_type = 'desktop',
    own_window_transparent = false,
    own_window_argb_visual = true,
    own_window_argb_value = 240,
    own_window_colour = 'f5f5f5',
    own_window_hints = 'undecorated,below,sticky,skip_taskbar,skip_pager',
    own_window_class = 'Conky',
    own_window_title = 'conky-left',
    
    -- ‰ΩçÁΩÆÂíåÂ∏ÉÂ±Ä - Â∑¶‰æß
    alignment = 'top_left',
    gap_x = 20,
    gap_y = 0,
    minimum_height = 5,
    minimum_width = 340,
    maximum_width = 420,
    border_inner_margin = 15,
    border_outer_margin = 0,
    
    -- È¢úËâ≤ÂíåÊ†∑Âºè
    default_color = '181825',
    default_outline_color = 'ffffff',
    default_shade_color = 'e6e9ef',
    
    -- ÂõæÂΩ¢ËÆæÁΩÆ
    draw_borders = false,
    draw_graph_borders = true,
    draw_outline = false,
    draw_shades = false,
    stippled_borders = 0,
    border_width = 0,
    
    -- ÈªòËÆ§ÂõæÂΩ¢Â§ßÂ∞è
    default_bar_width = 0,
    default_bar_height = 6,
    default_graph_width = 0,
    default_graph_height = 25,
    default_gauge_width = 40,
    default_gauge_height = 25,
    
    -- ÊÄßËÉΩÂíåÈááÊ†∑
    cpu_avg_samples = 4,
    net_avg_samples = 4,
    diskio_avg_samples = 4,
    temperature_unit = 'celsius',
    
    -- Ê†ºÂºèÂåñËÆæÁΩÆ
    format_human_readable = true,
    short_units = true,
    pad_percents = 0,
    use_spacer = 'none',
    uppercase = false,
    extra_newline = false,
    
    -- ÂõæÂΩ¢ÊòæÁ§∫
    show_graph_scale = false,
    show_graph_range = false,
    times_in_seconds = false,
    
    -- Á≥ªÁªüËÆæÁΩÆ
    no_buffers = true,
    top_cpu_separate = true,
    top_name_width = 15,
    top_name_verbose = false,
    
    -- È¢úËâ≤ÂÆö‰πâ
    color0 = '181825',  -- Ê∑±Ëâ≤ÊñáÊú¨ (‰∏ªË¶ÅÊñáÊú¨)
    color1 = '1e66f5',  -- Ê∑±ËìùËâ≤ (‰∏ªË¶Åaccent)
    color2 = '40a02b',  -- Ê∑±ÁªøËâ≤ (ÊàêÂäü/Ê≠£Â∏∏)
    color3 = 'df8e1d',  -- Ê∑±Ê©ôËâ≤ (Ë≠¶Âëä)
    color4 = 'd20f39',  -- Ê∑±Á∫¢Ëâ≤ (ÈîôËØØ/Âç±Èô©)
    color5 = '8839ef',  -- Ê∑±Á¥´Ëâ≤ (Ê¨°Ë¶Åaccent)
    color6 = '179299',  -- Ê∑±ÈùíËâ≤ (‰ø°ÊÅØ)
    color7 = 'fe640b',  -- Ê∑±Ê©ôÁ∫¢ (Âº∫Ë∞É)
    color8 = '5c5f77',  -- ‰∏≠ÁÅ∞Ëâ≤ (Ê¨°Ë¶ÅÊñáÊú¨)
    color9 = '9ca0b0',  -- ÊµÖÁÅ∞Ëâ≤ (ÂàÜÈöîÁ¨¶)
    
    -- Â≠ó‰ΩìÂÆö‰πâ
    font0 = 'JetBrainsMono Nerd Font:size=11',
    font1 = 'JetBrainsMono Nerd Font:bold:size=12',
    font2 = 'JetBrainsMono Nerd Font:size=10',
    font3 = 'JetBrainsMono Nerd Font:bold:size=14',
    font4 = 'JetBrainsMono Nerd Font:size=9',
}

conky.text = [[
${color1}${font1}üå§Ô∏è WEATHER - Ë•øÊπñÂå∫${font0}${color0}
${color8}${hr 1}${color0}
${color0}üå°Ô∏è ${color8}${texeci 600 curl -s 'wttr.in/Xihu,Hangzhou?format=%t' 2>/dev/null || echo "N/A"}${color0} ${color0}üíß ${color8}${texeci 600 curl -s 'wttr.in/Xihu,Hangzhou?format=%h' 2>/dev/null || echo "N/A"}${color0}
${color0}üí® ${color8}${texeci 600 curl -s 'wttr.in/Xihu,Hangzhou?format=%w' 2>/dev/null || echo "N/A"}${color0}
${color0}‚òÅÔ∏è ${color8}${texeci 600 curl -s 'wttr.in/Xihu,Hangzhou?format=%C' 2>/dev/null || echo "N/A"}${color0}
${color0}üåÖ ${color8}${texeci 3600 curl -s 'wttr.in/Xihu,Hangzhou?format=%S' 2>/dev/null || echo "N/A"}${color0} ${color0}üåá ${color8}${texeci 3600 curl -s 'wttr.in/Xihu,Hangzhou?format=%s' 2>/dev/null || echo "N/A"}${color0}
${color1}${font1}üìä Forecast${font0}${color0}
${color8}${hr 1}${color0}
${color0}Tomorrow: ${color8}${texeci 3600 curl -s 'wttr.in/Xihu,Hangzhou?format=2' 2>/dev/null | head -1 || echo "N/A"}${color0}
${color0}Day 3: ${color8}${texeci 3600 curl -s 'wttr.in/Xihu,Hangzhou?format=3' 2>/dev/null | head -1 || echo "N/A"}${color0}
${color1}${font1}Û∞ª† SYSTEM${font0}${color0}
${color8}${hr 1}${color0}
${color0}Û∞å¢ Host: ${color8}${nodename_short}${color0}
${color0}Û∞åΩ Kernel: ${color8}${kernel}${color0}
${color0}Û∞î† Uptime: ${color8}${uptime_short}${color0}
${color0}Û∞•î Time: ${color8}${time %H:%M:%S}${color0}
${color0}üìÖ Date: ${color8}${time %Y-%m-%d}${color0}
${color0}üë• Users: ${color8}${user_number}${color0}${alignr}${color0}Login: ${color8}${user_names}${color0}
${color1}${font1}Û∞çõ MEMORY${font0}${color0}
${color8}${hr 1}${color0}
${color0}Û∞çõ RAM: ${color8}${mem}/${memmax}${color0}${alignr}${memperc}%
${membar 6}
${color0}Û∞ìÖ Available: ${color8}${memavail}${color0}${alignr}${color0}Used: ${color8}${memeasyfree}${color0}
${color0}Û∞èñ Cached: ${color8}${cached}${color0}${alignr}${color0}Buffers: ${color8}${buffers}${color0}
${color0}Û∞ì° Swap: ${color8}${swap}/${swapmax}${color0}${if_match ${swapperc} > 0}${alignr}${swapperc}%
${swapbar 6}${else}${alignr}${color8}No Swap${color0}${endif}
${color1}${font1}Û∞ñ© NETWORK${font0}${color0}
${color8}${hr 1}${color0}
${if_up wlan0}${color1}Û∞ñ© WiFi${color0}
${color0}Û∞©† SSID: ${color8}${wireless_essid wlan0}${color0}
${color0}Û∞©ü Signal: ${color8}${wireless_link_qual_perc wlan0}%${color0}${alignr}${wireless_link_bar 6,100 wlan0}
${color0}Û∞©† IP: ${color8}${addr wlan0}${color0}${alignr}${color0}Gateway: ${color8}${gw_ip}${color0}
${color0}Û∞¨¨ Down: ${color8}${downspeed wlan0}${color0}${alignr}${color0}Up: ${color8}${upspeed wlan0}${color0}
${color1}Network Activity${color0}
${downspeedgraph wlan0 25,150 89b4fa a6e3a1} ${alignr}${upspeedgraph wlan0 25,150 f38ba8 fab387}
${color0}Û∞¨¨ Total: ${color8}${totaldown wlan0}${color0}${alignr}${color0}Total: ${color8}${totalup wlan0}${color0}
${else}${if_up enp7s0}${color1}Û∞àÄ Ethernet${color0}
${color0}Û∞©† IP: ${color8}${addr enp7s0}${color0}${alignr}${color0}Gateway: ${color8}${gw_ip}${color0}
${color0}Û∞¨¨ Down: ${color8}${downspeed enp7s0}${color0}${alignr}${color0}Up: ${color8}${upspeed enp7s0}${color0}
${downspeedgraph enp7s0 25,150 89b4fa a6e3a1} ${alignr}${upspeedgraph enp7s0 25,150 f38ba8 fab387}
${color0}Û∞¨¨ Total: ${color8}${totaldown enp7s0}${color0}${alignr}${color0}Total: ${color8}${totalup enp7s0}${color0}
${else}${color8}Û∞ñ™ No Connection${color0}${endif}${endif}
${color1}${font1}Û∞ùö MEDIA${font0}${color0}
${color8}${hr 1}${color0}
${if_running mpd}${color1}Û∞éµ MPD${color0}
${color0}Û∞ùö Status: ${color8}${mpd_status}${color0}
${if_mpd_playing}${color0}Û∞éÜ Title: ${color8}${mpd_smart 28}${color0}
${color0}Û∞†É Artist: ${color8}${mpd_artist}${color0}
${color0}Û∞Ä• Album: ${color8}${mpd_album}${color0}
${color0}Û∞êä Progress: ${color8}${mpd_elapsed}/${mpd_length}${color0}${alignr}${mpd_bar 6,100}
${color0}Û∞ïæ Volume: ${color8}${mpd_vol}%${color0}${endif}${endif}${if_running vlc}${color1}Û∞ïß VLC${color0}
${color0}Û∞ùö Status: ${color8}Active${color0}${endif}${if_running spotify}${color1}Û∞ìá Spotify${color0}
${color0}Û∞ùö Status: ${color8}Streaming${color0}${endif}${if_running firefox}${color1}Û∞àπ Firefox${color0}${endif}${if_running chromium}${color1}Û∞äØ Chromium${color0}${endif}${if_match "${exec pgrep -f 'vlc|spotify|firefox|chromium|mpv|mplayer'}" == ""}${color8}Û∞ùö No Media Players${color0}${endif}
${color1}${font1}Û∞£á AUDIO${font0}${color0}
${color8}${hr 1}${color0}
${color0}Û∞ïæ Volume: ${color8}${exec pactl get-sink-volume @DEFAULT_SINK@ | grep -oP '\d+%' | head -n1}${color0}${alignr}${color0}üéß ${color8}${if_match "${exec pactl get-sink-mute @DEFAULT_SINK@}" == "Mute: yes"}Muted${else}Active${endif}${color0}
${color0}Û∞ç¨ Output: ${color8}${exec pactl get-default-sink | cut -d. -f2- | head -c25}${color0}
${color0}Û∞ìÉ Input: ${color8}${exec pactl get-source-volume @DEFAULT_SOURCE@ | grep -oP '\d+%' | head -n1}${color0}
${color9}${alignc}${font4}Weather & System Panel${font0}${color0}
]]